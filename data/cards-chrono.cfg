//   Special credit to Phanterm for these card concepts.
//
//   Entropia + Minerva = Chrono. Shadowdeck focus. Loves milling self for
//   crazy effects. Deadly when decked.
//
//   Chrono meaning "Time".
//   Chrono is the fuel of decay in all things (Entropia), and
//   the unstoppable force which mocks those scholars who might hungrily
//   seek out immortality. (Minerva)
//
//     CARD                  |   CODE |    ART | FLAVOR |
//                           |        |        |   TEXT |
//     ----------------------+--------+--------+--------+
//     Mad Theorist          |        |        |        |
//     Dark Future           |--------|--------|        |
//     Vanteblacken          |        |        |        |
//     Alter Ego             |        |        |        |
//     Noumenon              |        |        |        |
//     Reunion Pact          |        |        |        |
//     Doomsday Clockwork    |        |        |        |
//     Herald of Jurex       |        |        |        |
//     Proof of Service      |        |        |        |
//     World Eater           |        |        |        |
//     Sandcatcher Shrine    |        |        |        |
//     Infinite              |        |        |        |
//     Thirteenth Hour       |        |        |        |
//     Hollow Dimension      |        |        |        |
//     Endmother Jurex       |        |        |        |
//
//   Key
//
//     '      ' -+-> CODE -+-> Completely pending.
//               `-> ART -'
//
//     '......' -+-> CODE -> Sketch, or even simply a skeleton.
//               `-> ART -> **Super early** placeholder art.
//
//     '------' -+-> CODE -> Started, early WIP, absolutely not finished.
//               `-> ART -> _Complete_ placeholder art.
//
//     '++++++' -+-> CODE -> Completed, or late WIP. Subject to changes by
//               |           peers.
//               `-> ART -> Sketch???
//
//     '######' -+-> CODE -> Accomplished, or post peer review.
//               `-> ART -> Final art???

{

"Dark Future": {
	name: "Dark Future",
	set: "cascadence",
	rarity: 0,
	type: "spell",
	is_instant: false,
	cost: 3,
	loyalty_cost: 0,
	school: "@eval [ENTROPIA, MINERVA]",
	tags: ["Chrono"],
	portrait: "thought-steal.png",
	rules: "Target player depletes 5 cards.",
	possible_targets: "all_players_as_possible_targets",
	on_play: "def(class game_state game, class message.play_card info) ->commands
		[ // FIXME: Discard animation is not showing when played on self
			if(info.choices=null, [
				set(info.choices, [n+size(player.hand)| n<- [4,3,2,1,0]]),
				player.draw_cards(game, 5);
				game.add_delayed_commands(; me.on_play(game, info))
			], // else if
			info.choices=[], null,
			// else
		 	[[player.discard_visible(game, card),
			  if(card.shadow, game.shadow_card_damage(player, card)),
			  set(info.choices, info.choices[1:])
			];[
			  set(player.hand, filter(player.hand, value != card)),
			  bind_command(me.on_play, game, info)
			]] where card=player.hand[info.choices[0]]
			  asserting info.choices
			) // end if
		] where player=game.players[info.targets[0].y]
	",
},

}
