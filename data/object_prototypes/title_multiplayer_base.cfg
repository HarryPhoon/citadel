{
	id: "title_multiplayer_base",
	hidden_in_game: true,
	is_strict: true,

	properties: {
		title_controller: "obj title_controller ::
		  find_or_die(level.chars, value is obj title_controller)",
		
		create_server_status_labels: "def() ->commands if(_server_status_label_value != _server_status_label_key, [
			map(_server_status_labels, remove_object(value)),
			set(_server_status_labels, []),

			if(_display_server_status,
			spawn('label', 100, 100, {
				_halign: 'left',
				_text: if(ctrl.num_users = null, ['Getting server status...'],
				  [str(ctrl.num_users) + ' players online',
				   str(ctrl.num_queued) + ' players queued to play',
				   str(ctrl.num_games) + ' games being played']
				  )
			}, [
				add(me._server_status_labels, [child]),
			])),

			set(_server_status_label_key, _server_status_label_value),
		] where ctrl = title_controller)",

		_server_status_labels: { type: "[obj label]", default: [] },
		_server_status_label_key: { type: "any" },

		_server_status_label_value: "any :: [ctrl.num_users, ctrl.num_queued, ctrl.num_games, _display_server_status] where ctrl = title_controller",

		_display_server_status: "bool :: true",

	
	},
}
