{
	id: "move_arrow",
	is_strict: true,

	properties: {
		src: { type: "[int,int]" },
		dst: { type: "[int,int]" },

		render: "def(int ww, int hh) ->commands
		set(animation, {
			id: 'fbo',
			image: 'fbo',
			x: 0, y: 0, w: ww, h: hh,
			scale: 1, frames: 1,
			fbo: c.render(ww, hh, [
				c.scale(ww, hh),
				c.save(),
				c.rectangle(0, 0, 1.0, 1.0),
				c.set_source_rgba(1, 1, 1, 1),
				c.fill(),
				c.rectangle(0.1, 0.1, 0.8, 0.8),
				c.set_source_rgba(1, 0, 0, 1),
				c.fill(),
				c.restore(),
			]),
		})
		where c = canvas()
		",

		_height: "int :: int(sqrt((dst.x - src.x)*(dst.x - src.x) + (dst.y - src.y)*(dst.y - src.y)))",
	},

	events: {
		create: "render(100, _height); set(mid_x, (src.x+dst.x)/2); set(mid_y, (src.y+dst.y)/2)",
		type_updated: "fire_event('create')",
	},
}
