{
	id: "sound_log",
	is_strict: true,
	hidden_in_game: true,

	properties: {
		add_entry: "def(custom_obj obj, string sound_name, string|null fname) ->commands
			spawn('label', {
				_text: ['Play ' + sound_name + ' -> ' + if(fname is string, fname, '(none)')],
				_font_size: lib.citadel.py(12),
				_bg_color: [0,0,0,0.8],
				zorder: 20000,
			}, [
				remove_object(child);
				add(pane.elements, [{ obj: child, ypos: sum(map(pane.elements, value.obj.img_h))}]);
				pane.force_to_bottom();
				pane.recalculate(),
			])
		",

		pane: "obj scrollable_pane <- _pane",
		_pane: { type: "null|obj scrollable_pane" },
	},

	on_create: "
		spawn('scrollable_pane', {
			x: lib.citadel.py(20),
			y: lib.citadel.py(20),
			area_width: lib.citadel.py(400),
			area_height: lib.citadel.py(200),
			hide_scrollbar_on_mouse_off: true,
			elements: [],
			zorder: 20000,
		}, [
			set(_pane, child),
		])
	",
}
