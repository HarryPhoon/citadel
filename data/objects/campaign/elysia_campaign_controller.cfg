{
	id: "elysia_campaign_controller",
	prototype: ["story_campaign_controller"],

	is_human: true,

	properties: {
		starting_locations: "[map] :: [

		{
			title: q(Anselm Library),
			flavor_text: q(The Library of Anselm, one of the great gathering places of the Shapers. Stay here a while. Read a tome. Study a new spell. Prepare your scrolls. So much to do in the Library of Anselm.),
			_avatar: 'greatlibrary.png',
			_avatar_focus: [400,400],
			_avatar_scale: 0.2,
			loc: [3,5],
			is_library: true,
			info: {
				get_choices: q(def(obj story_campaign_controller controller) -> [{button_text: string, on_select: function()->commands}]
				[{
					button_text: 'Edit Deck',
					on_select: def()->commands controller.show_library(),
				}]),
			},
		},

		{
			title: q(Street of the Traders),
			flavor_text: q(Along the dark streets, goods are bought and sold. Bargains are struck. Food. Furs. Weapons. Or, for one such as yourself, the most mysterious and arcane spells.),
			_avatar: 'assassins-den.png',
			_avatar_focus: [500,400],
			_avatar_scale: 0.2,
			loc: [5,3],
			is_library: true,
			info: {
				get_choices: q(def(obj story_campaign_controller controller) -> [{button_text: string, on_select: function()->commands}]
				[{
					button_text: 'Buy Spells',
					on_select: def()->commands controller.show_shop([
					  {type: q(Janus, the Great), quantity: 2, price: 500},
					  {type: q(Mercenary), quantity: 2, price: 20},
					  {type: q(Acolyte), quantity: 2, price: 20},
					  {type: q(Rihn's Anointed), quantity: 2, price: 20},
					  {type: q(Fireball), quantity: 2, price: 20},
					  {type: q(Hypothermia), quantity: 2, price: 20},
					  {type: q(Knife in the Dark), quantity: 2, price: 20},
					  {type: q(Vampire), quantity: 2, price: 20},
					  {type: q(Blood Altar), quantity: 2, price: 20},
					  {type: q(Grave Stalker), quantity: 2, price: 20},
					]),
				}]),
			},
		},

		{
			title: q(Chapel of the Righteous),
			flavor_text: q(Even as you enter the Chapel for your blessing you feel calmer. Your health restored you may go forth, your wounds removed. Ready to do battle once more.),
			_avatar: 'blessing-of-endurance.png',
			_avatar_focus: [400,400],
			_avatar_scale: 0.2,
			loc: [3,4],
			info: {
				handle_enter: q(def(obj story_campaign_controller controller, obj campaign_location loc) ->commands [
					controller.heal_wounds(),
				]),
			},
		},

		{
			title: q(Guards of the Pass),
			flavor_text: q(Do you really want to challenge us?),
			_avatar: 'wolf-rider.png',
			_avatar_scale: 0.2,
			_avatar_focus: [306, 457],
			loc: [7,4],
			info: {
				get_choices: q(def(obj story_campaign_controller controller) -> [{button_text: string, on_select: function()->commands}]
				[{
					button_text: 'Challenge',
					on_select: def()->commands controller.force_fight([7,4], {

						name: q(A Real Fight!),
						text: q(Now that you have received some training, you must be dispatched to the Western Forest to battle an incursion of foul beasts. Withstand their rush if you want to win!),
						bot_args: {
							deck: q([string] :: ['Green Adder', 'Wolf']*6),
						},
						enemy_name: q(Ichi),
						set: 'core',
						bot: 'scenario2.cfg',
						bot_type: 'eval',
						loc: [7,4],
						portrait: 'wolf-rider.png',
						portrait_scale: 0.2,
						portrait_translate: [306, 457],
						avatar: 'marauder.png',

						theme: 'mist',
						storyline: 'storyline_real_fight',
						music_theme: 'gaea',
						reward_gold: 120,
					}),
				}])
			},
		}
		]",

		starting_encounters: "[Scenario] :: [
		{
		name: 'Dwarvish Stronghold',
		text: 'This stronghold of the Dwarves nestled in the foothills contains many fierce enemies.',
		enemy_name: 'Oldric',
        set: 'core',
		loc: [2,7],
		bot_args: {
			deck: q([string] :: ['Dwarvish Warrior', 'Thunderer', q(Dwarvish Armourer), 'Mercenary', 'Anthem of Battle']*3 + ['Oldric, Lord of the Hold']),
		},
		portrait: 'mercenary.png',
		portrait_scale: 0.2,
		portrait_translate: [403, 265],
		avatar: 'mercenary.png',
		reward_gold: 150,
		}
		]",
	}

}
