{
	id: "blink_particles",
	is_strict: false,
	always_active: true,
	visible_in_game: false,
	
	properties:{
		create_particles: "def() ->commands [
			set(me.particles, {
				id: 'particles',
				camera: { name: 'psc_cam', type: 'orthogonal', ortho_window: [0,1600,0,900] },
				scale_velocity: 1,
				technique: [{
					position: [mid_x,mid_y],
					ignore_global_model: true,
					visual_particle_quota: 1000,
					texture: 'particles/flare-128x128.png',
					blend: ['src_alpha', 'one_minus_src_alpha'],
					depth_write: false,
					depth_check: false,
					default_particle_width: 48,
					default_particle_height: 48,
					renderer: {
						type: 'billboard',
					},
					emitter: [{
						type: 'sphere_surface',
						position: [0, 0, 0],
						emission_rate: 500.0,
						radius: 25,
						direction: [0, -1, 0],
						duration: 0.1,
						repeat_delay: 200,
						time_to_live: 1,
						velocity: 50,
						angle: 90.0,
					}],
					affector: [{
						type: 'color',
						time_colour: [{time: 0, color: [1, 1, 1, 1]}, {time: 1, color: [0, 1, 1, 0]}],
					}],
				}]
			}),
		]",
	},
	on_create: "[
		create_particles(),
		schedule(200, remove_object(me)),
	]",
}
