{
	id: "particle_editor",
	is_human: true,
	hitpoints: 4,
	editor_info: { category: "player" },

	properties: {
		load: "def(string fname) ->commands
			set(particles, get_document('data/particles/' + fname + '.cfg', [ enum uncached ] ))
		",

		save: "def(string fname) ->commands
			write_document(MODULE_PATH + '/data/particles/' + fname + '.cfg', particles.write, [ enum game_dir ])
			asserting particles != null
		",
	},


	particles: {	
		id: 'circle_portal',
		particle_quota: 2000,
		texture: { image: 'pu_flare_12_256x256.png', address_mode: 'clamp' },
		blend: 'add',
		depth_write: false,
		depth_check: false,
		default_particle_width: 4.0,
		default_particle_height: 4.0,
		renderer: {
			type: 'billboard',
		},
		emitter: {
			type: 'circle',
			emission_rate: 300,
			duration: 10,
			time_to_live: 20,
			velocity: 200.0,
			circle_radius: 200,
			direction: [0,1,0],
		},
		affector: [{
			type: 'color',
			time_color: [{
				time: 0, 
				color:[0,1,0,1]
			}, {
				time: 0.8, 
				color:[0,0,1,1]
			}, {
				time: 1, 
				color:[0,0,0,0]
			}],
		},{
			type: 'jet',
			acceleration: {
				type: 'random',
				min: 0.1,
				max: 1.0,
			},
		}],
	},
}
