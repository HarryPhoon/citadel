{
    "shaders": {
		////////////////////////////////////////////////////////////////
		// vertex shaders
        "vertex": {
            "basic_v": "
                uniform mat4 u_mvp_matrix;
                attribute vec4 a_position;
                attribute vec2 a_texcoord;
                varying vec2 v_texcoord;
                void main()
                {
                    v_texcoord = a_texcoord;
                    gl_Position = u_mvp_matrix * a_position;
                }",
				
            "tile_shader_v": "
                uniform mat4 u_mvp_matrix;
                attribute vec4 a_position;
                attribute vec2 a_texcoord;
                varying vec2 v_texcoord;
                void main()
                {
                    v_texcoord = a_texcoord;
                    gl_Position = u_mvp_matrix * a_position;
                }
			",
				
        },
		
		////////////////////////////////////////////////////////////////
		// fragment shaders
        "fragment": {
            "hurt_flash_f": "
                uniform sampler2D u_tex_map;
				uniform vec4 u_color;
				varying vec2 v_texcoord;
				uniform int start_cycle;
				uniform int end_cycle;
				uniform int cycle;
                void main()
                {
					vec4 col = u_color;
					float cf = mod(cycle - start_cycle, 5) / 5.0;
					if(cycle >= start_cycle && cycle < end_cycle && cf > 0.5) {
						col = vec4(1.0, 0.0, 0.0, 0.8);
					}
                    gl_FragColor = texture2D(u_tex_map, v_texcoord) * col;
                }",
				
            "tile_shader_f": "
                uniform sampler2D u_tex_map;
				uniform vec4 u_color;
                uniform bool do_highlight;
				varying vec2 v_texcoord;
                void main()
                {
					vec4 col;
                    if(do_highlight) {
                        gl_FragColor = texture2D(u_tex_map, v_texcoord) * u_color;
                        gl_FragColor = clamp(gl_FragColor * 1.3, 0.0, 1.0);
					} else { 
						gl_FragColor = texture2D(u_tex_map, v_texcoord) * u_color;
					}
                }
			",
				
		},
	},
    
    "programs": [
        {
            "name": "hurt_flash", 
            "vertex": "basic_v", 
            "fragment": "hurt_flash_f",
            "attributes": {
                "vertex": "a_position",
                "texcoord": "a_texcoord",
            },
        },
        {
            "name": "tile_shader", 
            "vertex": "tile_shader_v", 
            "fragment": "tile_shader_f",
            "attributes": {
                "vertex": "a_position",
                "texcoord": "a_texcoord",
            },
        },
    ],
}
